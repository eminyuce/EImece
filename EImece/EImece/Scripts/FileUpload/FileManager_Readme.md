FileManager

********Base Reference

lib_FileManager - base library
	- init - function
		+ target - selector
			- selector to use to create the filemanager/s
		+ options - object
			- init options, detailed in an additional section below
		: returns - array of FileManager objects created by the init function call
		
	- get - namespace
		- manager - function
			+ target - selector
				- selector to use to find filemanager instances
			: returns - array of FileManager objects retrieved by the function call
	- update - namespace
		- order - function
			+ direction - string
				- what direction the file is moving in, 'up' or 'down'
				- default: 'down'
			+ caller - object
				- the DOM object that called the reorder function.  In most cases this is the button clicked.
				  just include a this call in the onclick function for the button
				  eg. <a onclick="lib_FileManager.update.order('up', this)">Click Me</a>
			: returns void
        - remove - function
            + caller - object
                - the DOM object that called the remove function. In most cases this is the button clicked
                  just include a this call in the onclick function for the button
                  eg. <a onclick="lib_FileManager.update.remove(this)">Click Me</a>

FileManager Object - Generated by the lib_FileManager library
	- add - function
		+ data - object
        : returns void

        Adds the specified file object data to the files list
        Optionally calls an ajax method that passes the file data before adding the file to the list
        The url is defined as part of the init options

	- remove - function
		+ caller - object
        : returns void

        Removes the specified file from the list
        Optionally calls an ajax method that specifies the file to be removed   
        Easiest way to use this function is to call the lib_FileManager.update.remove function instead   
        eg. <a onclick="lib_FileManager.update.remove(this)">Click Me</a>
        The url is defined as part of the init options   

	- reorder - function
		+ direction - string
			- what direction the file is moving in, 'up' or 'down'
			- default: 'down'
		+ caller - object
			- the DOM object that called the reorder function.  In most cases this is the button clicked.
			  just include a this call in the onclick function for the button
			  Easiest way to use this function is to call the lib_FileManager.update.order function instead
			  eg. <a onclick="lib_FileManager.update.order('up', this)">Click Me</a>
        : returns void

        Shifts the specified file up or down by 1 space
        Optionally calls an ajax method that specifies the file to be moved and what direction to move it
		The url is defined as part of the init options       



********Additional References

			  
lib_FileManager.init(target, options)
	Options explanation and their default values

    The options define the behavior of the File Manager.  As it was created to be event driven,
    users can define success and error callbacks to be called at the end of the event
	
	options:{
		baseId: -1,  //the base id we are associating the files with, if any, can be an integer or string
		loaderClass: '', 
		starterTemplate: '', //a handlebars defintion for what the starter list should be created as, ie should it be a table or something else
	                         //defaults to a div
		add:{
			urlAdd: '',  //no url means the list is just a page instance, no persistance
			templateAdd: '',
			onSuccess: function(data, eventname){},   //default onSuccess and onError are the base handlers in the library, nothing extravagant
			onError: function(requestE, status, error, eventname){}
		},
		remove:{
			urlRemove: '', //no url means the list is just a page instance, no persistance
			onSuccess: function(data, eventname){}, //default onSuccess and onError are the base handlers in the library, nothing extravagant
			onError: function(requestE, status, error, eventname){}
		},
		reorder:{
			urlReorder: '', //no url means the list is just a page instance, no persistance
			onSuccess: function(data, eventname){}, //default onSuccess and onError are the base handlers in the library, nothing extravagant
			onError: function(requestE, status, error, eventname){}
		},
		preload:{
			method:'local', //the preload source method, 'local' or 'remote', default is 'local'{
			url: '' 
		},
		model:[ //model definition in an array, these names must coincide with the data model used in the add template defined in add.templateAdd
			{
				name:'',  //the name of the attribute
				visible:true,  //should the attribute name be visible to the starter template (for auto headers and such)
				type:'',  //variable type ('number', 'string', 'bool', 'datetime')
				printformat:function(value){}  //if the initial value should be displayed in a particular way, write a function to return a custom output
			}
			...
		]
	}
	

    A note on Preload
    Preload on local assumes that the local data has been formatted into a standard HTML table with a thead and tbody
    and that the order defined by the model array matches the order of the table cells in the source table
    If using remote preload then it assumes that the JSON objects returned use the same attribute names as specified in
    the model array

	A note on Models
	If there is no defined model then the preload step is skipped.  
	Types are important to include because they let the library know if a certain value has to be converted
	to be readable, usual example is DateTime since that can be displayed differently depending on what the source provider is
	The library takes care of most common return formats for datetime strings, most notably datetime strings, Microsoft's .NET format, and millisecond return format
	 


Example Starter Template
The starter model passed to Handlebars consists of 
the internal id (id)
and the defined model (model) if specified by the preload init options
The template must include the data-filelist attribute if it is to be used as a FileManager
<script id="file-manager-starter" type="text/x-handlebars-template">
    <table data-filelist="{{this.id}}">
        <thead>
            <tr>
            {{#each this.model}}
                <th>{{this}}</th>
            {{/each}}
            </tr>
        </thead>
        <tbody>

        </tbody>
    </table>
</script>

Example Add Template
The Add model passed to Handlebars consists of 
The data model passed to the add function (model)
The data container, in this case a tr element, must include the data-file attribute
if it is to be used within the FileManager as a File object
<script id="file-manager-add" type="text/x-handlebars">
    <tr data-file="{{this.model.EFID}}">
        <td>
            <ul class="list-order">
                <li>
                    <a onclick="lib_FileManager.update.order('up', this)" class="flatBtn btnListOrder" title="Move Up">
                        <span class="glyphicon glyphicon-chevron-up"></span>
                    </a>
                </li>
                <li>
                    <a onclick="lib_FileManager.update.order('down', this)" class="flatBtn btnListOrder" title="Move Down">
                        <span class="glyphicon glyphicon-chevron-down"></span>
                    </a>
                </li>
            </ul>
        </td>
        <td>{{this.model.EFID}}</td>
        <td>{{this.model.FileNameUrl}}</td>
        <td>{{this.model.IsWebImage}}</td>
        <td>Description: <span class="jeditable-description" id="filedescription-{{this.model.EFID}}">{{this.model.Description}}</span></td>
        <td><a onclick="lib_FileManager.update.remove(this)">Remove File</a></td>
    </tr>
</script>


Example model definition
model:[
    {name:"EFID", visible:false, type:"string"},  //visible defaults to true
    {name:"FileNameUrl", visible:true, type:"string"}, 
    {name:"IsWebImage", visible:true, type:"bool"},
    {name:"DateCreated", visible:true, type:"datetime", printformat: function(value){ return (value.getMonth() + 1) + "/" + value.getDate() + "/" + value.getFullYear(); } },
], 