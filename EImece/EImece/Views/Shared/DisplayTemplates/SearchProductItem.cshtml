﻿@model EImece.Domain.Models.DTOs.ProductDto
@using EImece.Domain.Helpers.Extensions;
@using Resources;
@{
 var product=Model; int Width=ViewData["Width"].ToInt(0); int Height=ViewData["Height"].ToInt(0);
 var imageUrl=Url.Action("Index","Images",new{id=string.Format("{0}.jpg",product.MainImageId ?? 0),imageSize=string.Format("w{0}h{1}",Width,Height)});
 var productLink=product.DetailPageAbsoluteUrl;
}
<div class="col-lg-3 col-sm-4 col-6 border border-collapse"><div class="product-card"><div class="product-thumb"><a class="product-thumb-link" href="@productLink"></a><img alt="Product thumb" src="@imageUrl" width="@Width" height="@Height" /></div><div class="product-card-body"><h3 class="product-card-title"><a href="@productLink">@product.Name</a></h3><span class="text-primary">@product.PriceWithDiscount.CurrencySign()</span></div>@if (product.IsBuyableState){<div class="product-card-body body-hidden pt-2"><button class="btn btn-primary btn-sm btn-block" data-add-product-cart="@Model.ModifiedId" type="button" data-toggle="toast" data-target="#cart-toast">@Resource.AddToCart</button></div>}</div></div>