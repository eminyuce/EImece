﻿@model EImece.Domain.Models.DTOs.ProductDto
@using EImece.Domain.Helpers.Extensions;
@using EImece.Domain.Helpers;
@using Resources;
@{var p=Model; int Width=ViewData["Width"].ToInt(0); int Height=ViewData["Height"].ToInt(0); var img=Url.Action("Index","Images",new{id=string.Format("{0}.jpg",p.MainImageId ?? 0),imageSize=string.Format("w{0}h{1}",Width,Height)}); var link=p.DetailPageAbsoluteUrl; var shortDesc=GeneralHelper.GetDescriptionWithBody(p.ShortDescription,100);} 
<div class="col-lg-3 col-sm-4 col-6 border border-collapse"><div class="product-card"><div class="product-thumb"><a class="product-thumb-link" href="@link"></a><img src="@img" alt="@p.Name" /></div><div class="product-card-body"><h3 class="product-card-title"><a href="@link">@p.Name</a></h3>@if (p.PriceWithDiscount > 0){<span class="text-primary">@p.PriceWithDiscount.CurrencySign()</span>}</div><div class="product-card-body body-hidden pt-2">@if (p.IsBuyableState){<button class="btn btn-primary btn-sm btn-block" data-add-product-cart="@Model.ModifiedId" type="button" data-toggle="toast" data-target="#cart-toast">@Resource.AddToCart</button>}@if (!string.IsNullOrEmpty(shortDesc)){<ul class="font-size-sm opacity-80 pl-4 pt-2 mb-2"><li>@shortDesc</li></ul>}</div></div></div>