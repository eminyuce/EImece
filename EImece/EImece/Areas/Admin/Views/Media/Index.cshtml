@using EImece.Domain.Entities;
@using EImece.Domain.Models.AdminModels;
@model MediaAdminIndexModel

@{
    ViewBag.Title = "Index";
    var baseContent = Model.BaseContent;
}

<h2>@baseContent.Name </h2>
@Html.HiddenFor(r => Model.Id)
@Html.HiddenFor(r => Model.ImageType)
@Html.HiddenFor(r => Model.MediaMod)


<!-- blueimp File Upload & Gallery styles -->
@Styles.Render("~/Content/jQuery-File-Upload")
@*<script>

        $(function () {
            $('#fileUpload').fileupload({
                dataType: 'json',
                done: function (e, data) {
                    $.each(data.result.files, function (index, file) {
                        $('<p/>').text(file.name).appendTo(document.body);
                    });
                }
            });
        });
    </script>*@
<script>
    var $form = null;


    $(function () {

        $form = $('#fileupload').fileupload({
            dataType: 'json',
            formData: {
                contentId: $("#Id").val(),
                imageType: $("#ImageType").val(),
                mod: $("#MediaMod").val()
            }
        });

    });
    $('#fileupload').addClass('fileupload-processing');

</script>
@Html.Partial("_Files")

@Scripts.Render("~/bundles/jQuery-File-Upload")